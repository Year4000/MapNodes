/*
 * Copyright 2016 Year4000. All Rights Reserved.
 */

buildscript {
    repositories {
        jcenter()
    }

    dependencies {
        classpath 'com.netflix.nebula:gradle-aggregate-javadocs-plugin:2.2.+'
    }
}

plugins {
    id 'java'
    id 'idea'
}

apply plugin: 'nebula-aggregate-javadocs'

ext.mapnodes = project

defaultTasks 'assemble'

sourceCompatibility = 1.8

ext.rawVersion = '3.0.0'
def gitVersion = rawVersion //+ '-' //+ git()

group 'net.year4000.mapnodes'
version = gitVersion

allprojects {
    repositories {
        maven { url "https://jitpack.io" }
    }
}

/** Copy the plugin to the sponge server */
task copyPlugin(dependsOn: 'sponge:assemble') {
    copy {
        from file("sponge/build/libs/mapnodes-$version-all.jar")
        into file("run/sponge-server/mods/")
    }
}